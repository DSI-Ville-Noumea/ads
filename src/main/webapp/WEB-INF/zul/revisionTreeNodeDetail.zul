<zk xmlns="http://www.zkoss.org/2005/zul"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.zkoss.org/2005/zul http://www.zkoss.org/2005/zul/zul.xsd">

    <popup id="thePopup">
        <label value="Laissez vide pour auto générer un code SERVI..." />
    </popup>

    <grid apply="org.zkoss.bind.BindComposer" style="border: none; padding-right: 5 px;"
          viewModel="@id('vmNodeDetail') @init('nc.noumea.mairie.ads.viewModel.RevisionTreeNodeDetailViewModel')"
          height="100%" hflex="1">
        <columns>
            <column hflex="min" align="right"/>
            <column hflex="max"/>
        </columns>
        <rows>
            <row>
                <label value="ID service"/>
                <textbox
                        value="@bind(vmNodeDetail.selectedNoeud.idService)" width="100%"
                        readonly="true"/>
            </row>
            <row>
                <label value="Sigle"/>
                <textbox value="@bind(vmNodeDetail.selectedNoeud.sigle)" readonly="@bind(not vmNodeDetail.editMode)"
                         maxlength="8"
                         width="100%"/>
            </row>
            <row>
                <label value="Label"/>
                <textbox value="@bind(vmNodeDetail.selectedNoeud.label)" readonly="@bind(not vmNodeDetail.editMode)"
                         maxlength="60"
                         width="100%"/>
            </row>
            <row>
                <label value="Type"/>
                <div>
                    <combobox readonly="true" buttonVisible="@bind(vmNodeDetail.editMode)" disabled="@bind(not vmNodeDetail.editMode)"
                              model="@bind(vmNodeDetail.dataList)"
                              selectedItem="@bind(vmNodeDetail.selectedType)" hflex="max">
                        <template name="model">
                            <comboitem label="${each.label}"/>
                        </template>
                    </combobox>
                    <button class="icon-plus" onClick="@command('createNewTypeCommand')"
                            disabled="@bind(not vmNodeDetail.editMode)"/>
                </div>
            </row>
            <row>
                <label value="Actif"/>
                <checkbox disabled="@bind(not vmNodeDetail.editMode)"
                        onCheck="@command('toggleActifSelectedNodeCommand')" checked="@load(true and vmNodeDetail.selectedNoeud.actif)"/>
            </row>
            <row>
                <label value="Code SISERV"/>
                <textbox readonly="@bind(not vmNodeDetail.editMode)" placeholder="laissez vide pour auto générer..."
                         tooltip="thePopup, delay=1000" maxlength="4"
                         value="@bind(vmNodeDetail.selectedNoeud.codeServi)" width="100%"/>
            </row>
            <row>
                <label value="Lib Chef"/>
                <textbox readonly="@bind(not vmNodeDetail.editMode)" placeholder="la dénomination du chef de service..."
                         maxlength="22"
                         value="@bind(vmNodeDetail.selectedNoeud.lib22)" width="100%"/>
            </row>
        </rows>
    </grid>

</zk>